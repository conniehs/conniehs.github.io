# 🎭 RolePlayConvo: Interactive Conversation Practice

一个完整的、响应式的HTML/CSS/JS单页应用，帮助学生通过角色扮演对话来提高口语能力。

## 🌟 项目概览

**RolePlayConvo** 是一个专为语言学习者设计的对话练习平台。学生可以上传对话脚本，录制练习会话，并获得即时的发音准确度反馈。

## 🎯 核心功能

### ✅ 已完成功能

1. **欢迎页面**
   - 精美的渐变背景（紫色 → 靛蓝）
   - 引导性标题和副标题
   - 两个主要CTA按钮：开始新对话 / 查看录音库

2. **脚本上传区**
   - 支持上传.txt文件或直接粘贴文本
   - 输入字段：脚本标题、难度级别、角色名称、脚本内容
   - 实时预览和成功消息提示
   - 数据保存到localStorage

3. **录音工作室**
   - 大型麦克风按钮控制
   - 实时波形可视化（50个动态条形）
   - 录音计时器（分:秒格式）
   - 完整的音频播放器（播放/暂停/停止/进度条）
   - 控制按钮：重新录制 / 下载 / 分析

4. **发音分析**
   - 使用Web Speech Recognition API进行语音识别
   - 分别显示学生A和学生B的准确率
   - 显示综合得分
   - 列出前5个发音错误的单词
   - 点击单词可听到正确的英式发音（Web Speech Synthesis UK语音）

5. **录音库**
   - 显示所有历史录音会话
   - 列表信息：日期、时长、A%、B%、综合分数
   - 操作：删除录音
   - 使用localStorage持久化存储
   - 空状态提示

## 🛠 技术栈

- **纯HTML5 + CSS3 + Vanilla JavaScript**
- **Web Audio API** - 录音和波形可视化
- **Web Speech Recognition API** - 语音识别和发音分析
- **Web Speech Synthesis API** - TTS英式发音
- **MediaRecorder API** - 音频录制
- **LocalStorage** - 数据持久化
- **Font Awesome 6.4.0** - 图标库

## 📱 响应式设计

- ✅ 完美支持手机和桌面
- ✅ 触摸友好的按钮和控件
- ✅ 支持竖屏和横屏
- ✅ 流畅的动画效果（淡入、按钮脉冲）

## 🎨 设计主题

- **主色调**：深靛蓝/紫色渐变背景
- **强调色**：温暖的珊瑚色按钮
- **辅助色**：柔和的灰色和白色
- **动画**：淡入效果、按钮悬停、录音脉冲

## 🚀 使用方法

### 本地运行

1. 克隆或下载此项目
2. 直接在浏览器中打开 `index.html` 文件
3. 无需服务器，无需构建步骤！

### 使用流程

1. **首页** - 点击"开始新对话"或"查看录音库"
2. **上传脚本** - 填写脚本信息，上传文件或粘贴文本
3. **录音** - 点击麦克风按钮开始/停止录音
4. **播放回顾** - 使用播放器回听录音
5. **分析发音** - 点击"分析"获取详细反馈
6. **查看结果** - 查看准确率分数和需要改进的单词
7. **管理录音** - 在录音库中查看历史记录

## 📂 项目结构

```
webapp/
├── index.html          # 完整的单页应用（53KB，1589行）
├── example-script.txt  # 示例对话脚本
├── README.md           # 项目文档（本文件）
├── QUICKSTART.md       # 快速开始指南
├── FEATURES.md         # 详细功能说明
├── DEPLOYMENT.md       # GitHub部署指南
└── .gitignore         # Git忽略文件
```

## 📚 文档导航

- **[README.md](README.md)** - 项目概览和功能介绍
- **[QUICKSTART.md](QUICKSTART.md)** - 快速开始和使用教程
- **[FEATURES.md](FEATURES.md)** - 完整功能特性清单
- **[DEPLOYMENT.md](DEPLOYMENT.md)** - GitHub Pages部署指南
- **[example-script.txt](example-script.txt)** - 示例对话脚本文件

## 🔧 浏览器兼容性

推荐使用现代浏览器以获得最佳体验：

- ✅ Google Chrome 88+
- ✅ Microsoft Edge 88+
- ✅ Safari 14+
- ✅ Firefox 78+

**注意**：需要浏览器支持以下API：
- MediaRecorder API
- Web Speech Recognition API
- Web Speech Synthesis API
- Web Audio API

## 🎯 功能亮点

### 麦克风权限
- 首次使用时会请求麦克风访问权限
- 清晰的权限状态提示

### 实时反馈
- 录音时的动态波形可视化
- 实时计时器显示
- 录音状态消息更新

### 智能分析
- 将录音与上传的脚本进行对比
- 使用Levenshtein距离算法计算单词相似度
- 模拟分角色的准确率（学生A/B）
- 识别最常见的发音错误

### 用户体验
- 平滑的页面切换动画
- Toast通知提示操作结果
- 响应式按钮和表单
- 空状态友好提示

## 📊 数据存储

使用 `localStorage` 存储以下数据：

- `currentScript` - 当前使用的脚本
- `recordings` - 录音历史记录（最多20条）

## 🔒 隐私说明

- 所有数据仅存储在用户的浏览器本地
- 不会上传任何录音或个人信息到服务器
- 清除浏览器数据会删除所有记录

## 🎓 教育用途

此应用适用于：

- 英语会话练习
- 发音训练
- 角色扮演对话
- 语言课堂活动
- 自主学习和练习

## 📝 待实现功能

- [ ] 支持更多语言（除英式英语外）
- [ ] 实际音频文件存储（目前仅存储元数据）
- [ ] 导出分析报告为PDF
- [ ] 多人协作录音功能
- [ ] 更高级的语音分析算法

## 🐛 已知限制

1. **LocalStorage限制**：录音Blob不能存储到localStorage，仅保存元数据
2. **浏览器支持**：某些浏览器的语音识别API可能不够准确
3. **语音识别**：在嘈杂环境中准确率可能降低
4. **TTS语音**：英式语音可用性取决于操作系统和浏览器

## 🚀 部署状态

- **平台**: GitHub Pages / 本地浏览器
- **状态**: ✅ 已完成
- **最后更新**: 2026-02-12

## 📄 许可证

此项目仅用于教育目的。

## 🤝 贡献

欢迎提出改进建议和bug报告！

---

**开发完成** ✨ 立即打开 `index.html` 开始使用！
